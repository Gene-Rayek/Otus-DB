Проект: База данных для компании по разработке, производству и продаже этикеток и бирок с DataMatrix
1. Назначение и контекст
Компания занимается:
•	проектированием макетов этикеток и бирок;
•	производством тиражей (на своих цехах и/или у подрядчиков);
•	реализацией продукции клиентам B2B;
•	контролем и учётом DataMatrix-кодов для прослеживаемости партий.
Цель базы данных:
•	централизованно хранить данные о продуктах (этикетки/бирки), материалах, клиентах, заказах, производственных партиях и DataMatrix-кодах;
•	позволять строить аналитику по продажам, производству, браку, закупкам и использованию DataMatrix.
2. Основные сущности и процессы
2.1. Справочники
•	product_categories - группы продукций: термоэтикетки, бирки с петлёй, промышленные этикетки и т.д.
•	suppliers - поставщики сырья и материалов.
•	materials - материалы (бумага, плёнка и т.п.), которыми печатаются этикетки/бирки.
•	Manufacturers - производственные цеха или внешние подрядчики.
•	Customers - клиенты (торговые сети, производственные компании и т.д.).
2.2. Продукты и цены
•	products - конкретные виды этикеток/бирок (размер, материал, наличие DataMatrix и параметры кодирования).
•	prices - цены на продукты (общие, оптовые, спец-цены под клиента), с периодом действия.
2.3. Продажи и заказы
•	orders - заказы клиентов (покупки).
•	order_items - позиции заказов (какой продукт, в каком количестве, по какой цене).
2.4. Закупки и материалы
•	purchase_orders - заказы поставщикам на материалы.
•	purchase_order_items - позиции закупок (какой материал, сколько, по какой цене).
2.5. Производство и DataMatrix
•	production_orders - производственные заказы, привязанные к конкретным позициям клиентских заказов.
•	datamatrix_batches - партии DataMatrix-кодов, оформленные как диапазоны (range_start – range_end) с префиксом, привязанные к производственным заказам.

3. Схема данных (общее текстовое описание связей)
•	Один клиент (customers) может иметь много заказов (orders).
•	Один заказ (orders) содержит множество позиций (order_items), каждая позиция ссылается на один продукт (products).
•	Продукты относятся к одной категории (product_categories) и могут иметь один основной материал (materials).
•	Материалы закупаются у поставщиков (suppliers) через закупки (purchase_orders) и их позиции (purchase_order_items).
•	По каждой позиции заказа (order_items) можно создать один или несколько производственных заказов (production_orders), которые привязаны к определённому производителю/цеху (manufacturers).
•	Для каждого производственного заказа формируются одна или несколько партий DataMatrix-кодов (datamatrix_batches), каждая — диапазон кодов, который можно однозначно сопоставить конкретному клиенту, заказу и продукту.
•	Цены (prices) привязаны к продукту, опционально — к конкретному клиенту, и имеют период действия.

4. ER-диаграмма
5. <img width="1434" height="1138" alt="image_2025-11-10_12-07-30" src="https://github.com/user-attachments/assets/91feb703-5f8b-4287-8a60-2786165194f3" />

Описание таблиц и полей

